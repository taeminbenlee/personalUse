<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<div class="container">

  <div class="col-lg-12" style="text-align: center;">
    <h1 class="display-2">등급별구매패턴</h1>
  </div>

  <div class="row">
		<div class="col-lg-12">
			<button class="btn btn-primary" onclick="simpleMap();">모드1</button><button class="btn btn-primary" onclick="">모드2</button>
			<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
		</div>
  </div>

</div>


<script>

	var zNumber = [];
	for(i=0; i<17; i++){
		zNumber[i] = Math.round(Math.random() * 270);
		
	}
	//alert(zNumber);

	function simpleMap() {
		$('#myDiv').empty();
		var data = [{
			type: "choroplethmapbox", name: "도/시/구 별 주문수",
			//geojson:"https://raw.githubusercontent.com/southkorea/southkorea-maps/master/gadm/json/skorea-provinces-geo.json", 
			//geojson:"https://gist.githubusercontent.com/harplife/60635e6e441ed83ed8f7cf309a9d2165/raw/da0f925b97ad146d8f0686624f4b8c73f7bba10f/skorea_hangjung_final.json",
			//geojson: "https://raw.githubusercontent.com/taeminbenlee/mapdrawwgeojson/main/stateOnlyWithId.json",
			geojson: "https://raw.githubusercontent.com/taeminbenlee/mapdrawwgeojson/main/statetest.geojsonl.json",
			locations: ['강원도', '경기도', '경상남도', '경상북도', '광주광역시', '대구광역시', '대전광역시', '부산광역시',
					'서울특별시', '세종특별자치시', '울산광역시', '인천광역시', '전라남도', '전라북도', '제주특별자치도',
					'충청남도', '충청북도'],
			z: zNumber,
			zmin: 25, zmax: 280, colorbar: {y: 0, yanchor: "bottom", title: {text: "도/시/구 별 주문수", side: "right"}}}];

		var layout = {mapbox: {style: "streets", center: {lon: 128, lat: 36}, zoom: 5.2},
									width: 600, height:400, margin: {t: 0, b: 0}};

		var config = {mapboxAccessToken: "pk.eyJ1IjoiaGFycGxpZmUiLCJhIjoiY2tlanE1amF4MjA2aDM0bGdlc2RxNnJlMyJ9.xml5UtxigITpVQ1Yc4O6zw"};

		Plotly.newPlot('myDiv', data, layout, config);
	}

	
</script>
